<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>BUT</title>
    <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
    <div id="main" style="position: relative; width: 100%; height: 100%;"></div>

    <script>
        var app = {};

        const { init } = require('./scripts/init');
        const { readPrefs } = require('./scripts/files');

        async function test() {
            await init();
            document.prefs = await readPrefs();

            app.modules = {
                main: new Promise((resolve, reject) => {
                    const { init } = require('./scripts/dom/mainModule');
                    setTimeout(() => {
                        resolve(init());
                    });
                }),
                net: new Promise((resolve, reject) => {
                    const { init } = require('./scripts/dom/netInterfaceModule');
                    setTimeout(() => {
                        resolve(init());
                    });
                }),
                dir: new Promise((resolve, reject) => {
                    const { init } = require('./scripts/dom/directoryModule');
                    setTimeout(() => {
                        resolve(init());
                    });
                })
            };
        }

        test();
    </script>
</body>
</html>
